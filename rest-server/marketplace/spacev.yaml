prerequisites : 
  - protocol_version : v2
    name : spacev_input
    type : data
    version : x.y.z
    contributor : xxx
    description: vectors
    uri : hdfs://xxx/spacev_input
  - protocol_version : v2
    name : spacev_config
    type : data
    version : x.y.z
    contributor : xxx
    description: configs
    uri : hdfs://xxx/spacev_config
  - protocol_version : v2
    name : spacev_example
    type : dockerimage
    version : x.y.z
    contributor : xxx
    description: spacev
    uri : openpai/pai.example.spacev

job : 
  protocol_version: v2
  name : spacev_vectorsearch
  type : job
  version : x.y.z
  contributor : xxx
  description : spacev, vector search
  parameters :
    num_of_worker: 1
    retryCount: 1 

  tasks :
    - name: worker
      data : spacev_input, spacev_config
      dockerimage : spacev_example
      resource: 
        instances : $job.parameters.num_of_worker
        resourcePerInstance: {cpu: 16, memoryMB: 8192, gpu: 0}
      env:
        
      command:
        - singlebox spacev_config
